{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Table Tap - Login</title>

  <!-- Tailwind CSS -->
  <link rel="stylesheet" href="{% static 'output.css' %}" />
</head>
<body class="w-full min-h-screen bg-white text-gray-800">

  <!-- Navbar -->
  <nav class="w-full flex items-center justify-between px-6 py-4 bg-white shadow">
    <div class="text-xl font-bold">Table Tap</div>
    <div class="space-x-6">
      <a href="/account/help/" class="text-gray-600 hover:text-gray-900">Help</a>
      <a href="/account/faq/" class="text-gray-600 hover:text-gray-900">FAQ</a>

    </div>
  </nav>

  <!-- Show messages popups if any
  {% if messages %}
    {% for msg in messages %}
      <script>alert("{{ msg }}");</script>
    {% endfor %}
  {% endif %} -->

  <!-- Main Container -->
  <div class="flex flex-col md:flex-row w-full" style="min-height:calc(100vh - 4rem)">
    
    <!-- Left Side Video -->
    <div class="w-full md:w-1/2 h-64 md:min-h-screen order-1 md:order-1">
      <video
        class="w-full h-full object-cover"
        src="{% static 'log1.mp4' %}"
        autoplay 
        muted 
        loop
        playsinline
      ></video>
    </div>

    <!-- Login Form -->
    <div class="w-full md:w-1/2 flex items-center justify-center order-2 md:order-2 p-4 md:p-8">
      <div class="max-w-md w-full bg-gray-50 p-6 rounded shadow-md mt-4 md:mt-0">
        <h2 class="text-2xl font-bold mb-4 text-center">Table Tap</h2>

        <!-- Form POST to /account/login/ -->
        <form action="/account/login/" method="POST" class="space-y-4">
          {% csrf_token %}
          <!-- Email Field -->
          <div>
            <label for="email" class="block mb-1 font-medium">Email</label>
            <input 
              type="email" 
              id="email" 
              name="email"
              placeholder="Please Enter Your Email"
              class="w-full p-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4C8DFF]" 
              required 
            />
          </div>

          <!-- Password Field -->
          <div class="relative">
            <label for="password" class="block mb-1 font-medium">Password</label>
            <input 
              type="password" 
              id="password" 
              name="password" 
              placeholder="Please Enter Your Password"
              class="w-full p-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4C8DFF]" 
              required 
            />
            <button 
              type="button"
              class="absolute right-2 top-[35px] text-gray-500 hover:text-gray-700"
              onclick="togglePassword()"
              aria-label="Toggle Password"
            >
            <!-- eye icon -->
              <svg 
                xmlns="http://www.w3.org/2000/svg" 
                fill="none" 
                viewBox="0 -7.5 24 24" 
                stroke-width="2" 
                stroke="currentColor" 
                class="w-5 h-5"
              >
                <path 
                  stroke-linecap="round" 
                  stroke-linejoin="round" 
                  d="M3.98 8.223c.158-.193.324-.383.5-.57C6.944 5.041 9.56 3.75 12 3.75c2.44 0 5.056 
                  1.291 7.52 3.903.176.187.342.377.5.57a.75.75 0 010 .954 16.304 16.304 0 01-.5.57C17.056 
                  13.459 14.44 14.75 12 14.75c-2.44 0-5.056-1.291-7.52-3.903a16.233 16.233 0 01-.5-.57
                  .75.75 0 010-.954z"
                />
                <path 
                  stroke-linecap="round" 
                  stroke-linejoin="round" 
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" 
                />
              </svg>
            </button>
          </div>

          <!-- Sign In Button -->
          <button 
            type="submit" 
            class="w-full bg-[#4C8DFF] hover:bg-[#3a6cd7] text-white font-bold py-2 rounded transition"
          >
            Sign In
          </button>
        </form>

        <!-- Divider Social Logins -->
        <div class="flex items-center justify-center space-x-2 mt-6">
          <hr class="w-16 border-gray-300" />
          <span class="text-sm text-gray-400">Or sign in with</span>
          <hr class="w-16 border-gray-300" />
        </div>

        <!-- Social Login Buttons -->
        <div class="flex flex-col sm:flex-row items-center sm:justify-between mt-4 space-y-2 sm:space-y-0 sm:space-x-4">
          <button 
            type="button" 
            class="flex items-center justify-center w-full sm:w-1/2 border border-gray-300 rounded py-2 hover:bg-gray-100 transition"
            onclick="location.href='/account/login/google/'"
          >
            <img 
              src="https://www.svgrepo.com/show/475656/google-color.svg" 
              alt="Google" 
              class="w-5 h-5 mr-2"
            />
            <span class="text-sm font-medium">Sign in with Google</span>
          </button>

          <button 
            type="button" 
            class="flex items-center justify-center w-full sm:w-1/2 border border-gray-300 rounded py-2 hover:bg-gray-100 transition"
            onclick="location.href='/account/login/github/'"
          >
            <img 
              src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" 
              alt="GitHub" 
              class="w-5 h-5 mr-2"
            />
            <span class="text-sm font-medium">Sign in with GitHub</span>
          </button>
        </div>

        <!-- Already have an account? -->
        <p class="text-center mt-6 text-sm">
          Do not have an account? 
          <a href="/account/register/" class="text-[#4C8DFF] hover:underline">Sign Up here</a>.
        </p>
      </div>
    </div>
  </div>


  <script>
    function togglePassword() {
      const passwordField = document.getElementById('password');
      if (passwordField.type === 'password') {
        passwordField.type = 'text';
      } else {
        passwordField.type = 'password';
      }
    }
  </script>
</body>
</html>
